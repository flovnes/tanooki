<div class="font-sans">
  <%= f.input :commentable_id, as: :hidden, input_html: { value: commentable.id } %>
  <%= f.input :commentable_type, as: :hidden, input_html: { value: application_record_child(commentable) } %>
  <%= f.input :user_id, as: :hidden, input_html: { value: current_user.id } %>
  <%= f.input :parent_id, as: :hidden, input_html: { value: comment.parent_id } if comment.parent_id.present? %>

  <div class="mb-4 rounded-lg border <%= fictions? ? 'bg-stone-100 border-stone-200' : 'bg-white border-stone-200' %> <%= 'mt-6' if comment.new_record? && comment.parent_id.present? %>">
    <%= f.text_area :content,
                    id: 'comment',
                    rows: '4',
                    class: "px-4 py-2 w-full text-sm border-0 focus:ring-0 focus:outline-none rounded-lg #{
                      fictions? ? 'text-stone-800 placeholder-stone-500 bg-stone-100' : 'text-stone-800 placeholder-stone-500 bg-white'
                    }",
                    placeholder: 'Лишіть відгук чи коментар...',
                    required: true %>
  </div>

  <%= tag.p comment.errors[:content].to_sentence, class: "mb-4 text-sm #{
    fictions? ? 'text-yellow-600' : 'text-rose-600'
  }" if comment.errors.any? %>

  <div class="flex justify-end items-center space-x-2">
    <% if comment.persisted? %>
      <%= link_to "Скасувати",
                  cancel_edit_comment_path(comment),
                  method: :get,
                  data: { turbo_stream: "" },
                  class: "px-4 py-2 text-sm font-medium rounded-md border #{
                    fictions? ? 'border-stone-300 text-stone-600 hover:bg-stone-100' : 'border-stone-300 text-stone-600 hover:bg-stone-100'
                  }" %>
    <% end %>

    <% if comment.new_record? && comment.parent_id.present? %>
      <%= link_to "Скасувати",
                cancel_reply_comment_path(comment.parent_id),
                method: :get,
                data: { turbo_stream: "" },
                class: "px-4 py-2 text-sm font-medium rounded-md border #{
                  fictions? ? 'border-stone-300 text-stone-600 hover:bg-stone-100' : 'border-stone-300 text-stone-600 hover:bg-stone-100'
                }" %>
    <% end %>

    <%= f.submit 'Надіслати', class: "px-4 py-2 text-sm font-medium text-white rounded-md #{
      fictions? ? 'bg-stone-600 hover:bg-stone-700' : 'bg-stone-600 hover:bg-stone-700'
    }" %>
  </div>
</div>
